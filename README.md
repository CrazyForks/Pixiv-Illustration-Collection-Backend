### 用户模块

- 注册登录
- 收藏（查看）画作
- 关注（查看）画师
- 行为追踪及恢复(时间轴)
- 收藏同步到pixiv
- 关注同步到pixiv
- 为画作添加标签（每人一天100次）
- 标签自动完成

### 消息模块

- 邮件、站内信发送组件

### 以图搜图

- [https://ascii2d.net](https://ascii2d.net/)
- http://saucenao.com/search.php
- http://www.iqdb.org/

### 新版搜索

- 搜索词补全
- 相关性tag
- 搜一定长度数字则是搜索画作id、作者id
- 搜索词中间夹杂空格作为多词处理
- 搜索模式可选：自动翻译、自动词条匹配、原生
- 基于pixiv的搜索建议
- 若搜索建议不命中则进行搜索词->词条的尝试：
  - bangumi api
  - 萌娘百科api
  - 有道api
- 成功匹配词条则加入词条库
- 得到词条或得不到词条则将翻译结果输入es进行相关性搜索出相关的画作

### 随机一图

- 长宽比
- 标签
- ...

### 留言板模块

- 分区（留言，bug提交，需求墙）
- 邮件提醒
- 一个留言单位只分两级
- 表情
- 图片
- 点赞/踩
- 支持markdown
- 默认只返回最顶级留言，点击展开次级留言
- 分页

### 积分模块

- 每天登陆加分
- 为作品增加标签加分（每天最多100个）
- 完成图片来源任务获取悬赏分+系统奖励积分

### 图片来源任务发布

- 用户发布查找图片来源的任务，以站内信方式发送给所有用户，该操作需要花费积分
- 其他用户收到任务消息（需要一个集中的消息模块）发送使用websocket
- 收到任务的用户可以回复图片来源链接与描述
- 发布者选取一个满意的回答，被采纳者加分，不采纳则一定时间后直接把积分给第一名回答者
- 所有搜图任务将会在一个地方被展示，图片特征值也可以记录下来，未来实现以图搜图

### 架构图

![](https://upload.cc/i1/2019/09/07/p5wksW.png)



## 未来计划

### 用户

- 给用户打tag